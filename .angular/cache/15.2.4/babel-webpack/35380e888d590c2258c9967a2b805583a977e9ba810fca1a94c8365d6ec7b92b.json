{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class DataService {\n  constructor(http) {\n    this.http = http;\n    this.data = [];\n    this.url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/orgEhImScope%20%28infoOnly%29';\n  }\n  getMinPrices() {\n    let url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis';\n    return this.http.get(url);\n  }\n  editPriceItem(item) {\n    this.editedItem = {\n      ...item\n    };\n  }\n  onSubmitMinPrice(form) {\n    const Id = this.editedItem.id;\n    const data = this.editedItem;\n    let url = `https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis/${Id}`;\n    let body = {\n      mindestprei: data\n    };\n    this.http.put(url, body).subscribe(response => {\n      // Do something with the response\n    }, error => {\n      // Handle the error\n    });\n    this.editedItem = null;\n  }\n}\nDataService.ɵfac = function DataService_Factory(t) {\n  return new (t || DataService)(i0.ɵɵinject(i1.HttpClient));\n};\nDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: DataService,\n  factory: DataService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAQA,OAAM,MAAOA,WAAW;EAMtBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IALxB,SAAI,GAAU,EAAE;IAGR,QAAG,GAAG,kHAAkH;EAEzF;EAEzCC,YAAY;IACV,IAAIC,GAAG,GAAG,iGAAiG;IAC3G,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAACD,GAAG,CAAC;EAC3B;EAEAE,aAAa,CAACC,IAAS;IACrB,IAAI,CAACC,UAAU,GAAG;MAAE,GAAGD;IAAI,CAAE;EAC/B;EAEAE,gBAAgB,CAACC,IAAY;IAC3B,MAAMC,EAAE,GAAG,IAAI,CAACH,UAAU,CAACI,EAAE;IAC7B,MAAMC,IAAI,GAAG,IAAI,CAACL,UAAU;IAC5B,IAAIJ,GAAG,GAAG,mGAAmGO,EAAE,EAAE;IACjH,IAAIG,IAAI,GAAG;MACTC,WAAW,EAAEF;KACd;IAED,IAAI,CAACX,IAAI,CAACc,GAAG,CAACZ,GAAG,EAAEU,IAAI,CAAC,CAACG,SAAS,CAC/BC,QAAQ,IAAI;MACX;IAAA,CACD,EACAC,KAAK,IAAI;MACR;IAAA,CACD,CACF;IAED,IAAI,CAACX,UAAU,GAAG,IAAI;EACxB;;AAnCaR,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAoB,SAAXpB,WAAW;EAAAqB,YAFV;AAAM","names":["DataService","constructor","http","getMinPrices","url","get","editPriceItem","item","editedItem","onSubmitMinPrice","form","Id","id","data","body","mindestprei","put","subscribe","response","error","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\appeltauer\\test\\src\\app\\services\\data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { NgForm } from '@angular/forms';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataService {\r\n  data: any[] = [];\r\n  editedItem: any;\r\n  \r\n  private url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/orgEhImScope%20%28infoOnly%29';\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\ngetMinPrices(): Observable<any> {\r\n  let url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis';\r\n  return this.http.get(url);\r\n}\r\n\r\neditPriceItem(item: any) {\r\n  this.editedItem = { ...item };\r\n}\r\n\r\nonSubmitMinPrice(form: NgForm) {\r\n  const Id = this.editedItem.id;\r\n  const data = this.editedItem;\r\n  let url = `https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis/${Id}`;\r\n  let body = {\r\n    mindestprei: data\r\n  };\r\n\r\n  this.http.put(url, body).subscribe(\r\n    (response) => {\r\n      // Do something with the response\r\n    },\r\n    (error) => {\r\n      // Handle the error\r\n    }\r\n  );\r\n\r\n  this.editedItem = null;\r\n}\r\n\r\n\r\n  /*\r\n  //--------------------------------------------MINDESTPREIS------------------------------------------------------------------------------\r\n  data: any[] = [];\r\n  editedItem: any;\r\n\r\n  getMinPrices() {\r\n    let url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis';\r\n    fetch(url)\r\n    .then((response) => response.json())\r\n    .then(json => {\r\n      // Do something with the data\r\n      console.log(json.mindestpreis);\r\n      this.data = json.mindestpreis;\r\n    });\r\n  }\r\n\r\n  \r\n\r\n    editPriceItem(item: any) {\r\n      this.editedItem = Object.assign({}, item);\r\n    }\r\n\r\n  onSubmitMinPrice(form: NgForm) {\r\n    const Id = this.editedItem.id;\r\n    const data = this.editedItem;\r\n    let url = `https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis/${Id}`;\r\n    let body = {\r\n      //ACHTUNG DER TYPO IST BEACHBSICHTIGT!! SHEETY ERWARTET \"mindestprei\" OHNE \"s\"\r\n      mindestprei: data\r\n    }\r\n\r\n    //print übergenenen string am ende\r\n    let tempElement = document.createElement('div');\r\n    tempElement.innerHTML = JSON.stringify(body);\r\n    document.body.appendChild(tempElement);\r\n    document.body.append(\"id:\");\r\n    document.body.append(this.editedItem.id);\r\n    \r\n\r\n    fetch(url, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(body)\r\n    })\r\n    .then((response) => response.json())\r\n    .then(json => {\r\n      // Do something with object\r\n      document.body.append(JSON.stringify(json));\r\n    });\r\n\r\n    this.editedItem = null;\r\n  }\r\n  */\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}