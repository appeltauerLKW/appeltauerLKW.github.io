{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class DataService {\n  constructor(http) {\n    this.http = http;\n    this.url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/orgEhImScope%20%28infoOnly%29';\n    //--------------------------------------------MINDESTPREIS------------------------------------------------------------------------------\n    this.data = [];\n  }\n  getData() {\n    return this.http.get(this.url);\n  }\n  getMinPrice() {\n    let url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis';\n    fetch(url).then(response => response.json()).then(json => {\n      // Do something with the data\n      /*console.log(json.mindestpreis);\r\n      this.data = json.mindestpreis;\r\n      let tempElement = document.createElement('div');\r\n      tempElement.innerHTML = JSON.stringify(json.mindestpreis);\r\n      document.body.appendChild(tempElement);*/\n      this.data = json.mindestprei;\n    });\n    return this.data;\n  }\n  editItem(item) {\n    this.editedItem = Object.assign({}, item);\n  }\n  onSubmit(form) {\n    const Id = this.editedItem.id;\n    const data = this.editedItem;\n    let url = `https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis/${Id}`;\n    let body = {\n      //ACHTUNG DER TYPO IST BEACHBSICHTIGT!! SHEETY ERWARTET \"mindestprei\" OHNE \"s\"\n      mindestprei: data\n    };\n    //print übergenenen string am ende\n    let tempElement = document.createElement('div');\n    tempElement.innerHTML = JSON.stringify(body);\n    document.body.appendChild(tempElement);\n    document.body.append(\"id:\");\n    document.body.append(this.editedItem.id);\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(json => {\n      // Do something with object\n      document.body.append(JSON.stringify(json));\n    });\n    this.editedItem = null;\n  }\n}\nDataService.ɵfac = function DataService_Factory(t) {\n  return new (t || DataService)(i0.ɵɵinject(i1.HttpClient));\n};\nDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: DataService,\n  factory: DataService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAQA,OAAM,MAAOA,WAAW;EAItBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAFhB,QAAG,GAAG,kHAAkH;IAShI;IAEA,SAAI,GAAU,EAAE;EATwB;EAExCC,OAAO;IACL,OAAO,IAAI,CAACD,IAAI,CAACE,GAAG,CAAC,IAAI,CAACC,GAAG,CAAC;EAChC;EASAC,WAAW;IACT,IAAID,GAAG,GAAG,iGAAiG;IAC3GE,KAAK,CAACF,GAAG,CAAC,CACTG,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAACE,IAAI,IAAG;MACX;MACA;;;;;MAKF,IAAI,CAACC,IAAI,GAAGD,IAAI,CAACE,WAAW;IAC5B,CAAC,CAAC;IACF,OAAO,IAAI,CAACD,IAAI;EAClB;EAGAE,QAAQ,CAACC,IAAS;IAChB,IAAI,CAACC,UAAU,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEH,IAAI,CAAC;EAC3C;EAGAI,QAAQ,CAACC,IAAY;IACnB,MAAMC,EAAE,GAAG,IAAI,CAACL,UAAU,CAACM,EAAE;IAC7B,MAAMV,IAAI,GAAG,IAAI,CAACI,UAAU;IAC5B,IAAIV,GAAG,GAAG,mGAAmGe,EAAE,EAAE;IACjH,IAAIE,IAAI,GAAG;MACT;MACAV,WAAW,EAAED;KACd;IAED;IACA,IAAIY,WAAW,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC/CF,WAAW,CAACG,SAAS,GAAGC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC;IAC5CE,QAAQ,CAACF,IAAI,CAACO,WAAW,CAACN,WAAW,CAAC;IACtCC,QAAQ,CAACF,IAAI,CAACQ,MAAM,CAAC,KAAK,CAAC;IAC3BN,QAAQ,CAACF,IAAI,CAACQ,MAAM,CAAC,IAAI,CAACf,UAAU,CAACM,EAAE,CAAC;IAExCd,KAAK,CAACF,GAAG,EAAE;MACT0B,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;OACjB;MACDV,IAAI,EAAEK,IAAI,CAACC,SAAS,CAACN,IAAI;KAC1B,CAAC,CACDd,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAACE,IAAI,IAAG;MACX;MACAc,QAAQ,CAACF,IAAI,CAACQ,MAAM,CAACH,IAAI,CAACC,SAAS,CAAClB,IAAI,CAAC,CAAC;IAC5C,CAAC,CAAC;IAEF,IAAI,CAACK,UAAU,GAAG,IAAI;EACxB;;AArEWf,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAiC,SAAXjC,WAAW;EAAAkC,YAFV;AAAM","names":["DataService","constructor","http","getData","get","url","getMinPrice","fetch","then","response","json","data","mindestprei","editItem","item","editedItem","Object","assign","onSubmit","form","Id","id","body","tempElement","document","createElement","innerHTML","JSON","stringify","appendChild","append","method","headers","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\appeltauer\\test\\src\\app\\services\\data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { NgForm } from '@angular/forms';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataService {\r\n\r\n  private url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/orgEhImScope%20%28infoOnly%29';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getData(): Observable<any> {\r\n    return this.http.get(this.url);\r\n  }\r\n\r\n  \r\n  //--------------------------------------------MINDESTPREIS------------------------------------------------------------------------------\r\n  \r\n  data: any[] = [];\r\n  editedItem: any;\r\n\r\n\r\n  getMinPrice():any[] {\r\n    let url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis';\r\n    fetch(url)\r\n    .then((response) => response.json())\r\n    .then(json => {\r\n      // Do something with the data\r\n      /*console.log(json.mindestpreis);\r\n      this.data = json.mindestpreis;\r\n      let tempElement = document.createElement('div');\r\n      tempElement.innerHTML = JSON.stringify(json.mindestpreis);\r\n      document.body.appendChild(tempElement);*/\r\n    this.data = json.mindestprei;\r\n    });\r\n    return this.data;\r\n  }\r\n\r\n  \r\n  editItem(item: any) {\r\n    this.editedItem = Object.assign({}, item);\r\n  }\r\n\r\n  \r\n  onSubmit(form: NgForm) {\r\n    const Id = this.editedItem.id;\r\n    const data = this.editedItem;\r\n    let url = `https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis/${Id}`;\r\n    let body = {\r\n      //ACHTUNG DER TYPO IST BEACHBSICHTIGT!! SHEETY ERWARTET \"mindestprei\" OHNE \"s\"\r\n      mindestprei: data\r\n    }\r\n\r\n    //print übergenenen string am ende\r\n    let tempElement = document.createElement('div');\r\n    tempElement.innerHTML = JSON.stringify(body);\r\n    document.body.appendChild(tempElement);\r\n    document.body.append(\"id:\");\r\n    document.body.append(this.editedItem.id);\r\n    \r\n    fetch(url, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(body)\r\n    })\r\n    .then((response) => response.json())\r\n    .then(json => {\r\n      // Do something with object\r\n      document.body.append(JSON.stringify(json));\r\n    });\r\n\r\n    this.editedItem = null;\r\n  }\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}