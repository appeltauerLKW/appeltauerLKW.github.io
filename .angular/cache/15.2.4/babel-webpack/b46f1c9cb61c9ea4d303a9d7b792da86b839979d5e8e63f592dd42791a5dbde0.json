{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction AppComponent_div_11_form_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 8, 9);\n    i0.ɵɵlistener(\"ngSubmit\", function AppComponent_div_11_form_18_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const _r3 = i0.ɵɵreference(1);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.onSubmit(_r3));\n    });\n    i0.ɵɵelementStart(2, \"label\", 10);\n    i0.ɵɵtext(3, \"New Price per km:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_11_form_18_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.selectedItem.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.selectedItem.name);\n  }\n}\nfunction AppComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_11_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.editItem(item_r1));\n    });\n    i0.ɵɵelement(16, \"span\", 6);\n    i0.ɵɵtext(17, \" Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, AppComponent_div_11_form_18_Template, 6, 1, \"form\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r1.org);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.vonLand);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.zuLand);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1[\"mindPreis /Km\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1[\"mindPreis /Ladung\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.id);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedItem);\n  }\n}\nexport class AppComponent {\n  constructor() {\n    this.data = [];\n  }\n  ngOnInit() {\n    let url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis';\n    fetch(url).then(response => response.json()).then(json => {\n      // Do something with the data\n      console.log(json.mindestpreis);\n      this.data = json.mindestpreis;\n    });\n  }\n  editItem(item) {\n    this.selectedItem = {\n      ...item\n    };\n  }\n  onSubmit(form) {\n    // Save changes to the selected item\n    console.log(this.selectedItem);\n    // Reset the selected item\n    this.selectedItem = null;\n    let url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis';\n    let body = {\n      mindestpreis: {\n        \"org\": form.value.org,\n        \"vonLand\": form.value.vonLand,\n        \"zuLand\": form.value.zuLand,\n        \"form.value.org\": form.value['form.value.org'],\n        \"mindPreis /Ladung\": form.value['mindPreis /Ladung'],\n        \"id\": form.value.id\n      }\n    };\n    //TODO: geht nicht weil der ganze body expected wird also ich muss das ganze schicken nicht nur den neuen valie \n    //-> edit button muss für jede row neuen tag haben? und dynamisch mitgeneriert werden sonst werden alle geändert\n    fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(json => {\n      // Do something with object\n      console.log(json.mindespreis);\n    });\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)();\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 12,\n  vars: 1,\n  consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"http-equiv\", \"X-UA-Compatible\", \"content\", \"IE=edge\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", \"btn-sm\", 3, \"click\"], [1, \"glyphicon\", \"glyphicon-edit\"], [3, \"ngSubmit\", 4, \"ngIf\"], [3, \"ngSubmit\"], [\"newPriceFrom\", \"ngForm\"], [\"for\", \"priceKM\"], [\"type\", \"text\", \"name\", \"priceKM\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Save\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n      i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2)(4, \"meta\", 3);\n      i0.ɵɵelementStart(5, \"title\");\n      i0.ɵɵtext(6, \"Document\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"body\")(8, \"h1\");\n      i0.ɵɵtext(9, \"Mindestpreis\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"form\");\n      i0.ɵɵtemplate(11, AppComponent_div_11_Template, 19, 7, \"div\", 4);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AppComponent","constructor","ngOnInit","url","fetch","then","response","json","console","log","mindestpreis","data","editItem","item","selectedItem","onSubmit","form","body","value","org","vonLand","zuLand","id","method","JSON","stringify","mindespreis","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\appeltauer\\test\\src\\app\\app.component.html","C:\\Users\\appeltauer\\test\\src\\app\\app.component.ts"],"sourcesContent":["<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Document</title>\n</head>\n<body>\n    <h1>Mindestpreis</h1>\n    <form>\n        <div *ngFor=\"let item of data\">\n            <h2>Item</h2>\n            <p>{{ item.org }}</p>\n            <p>{{ item.vonLand }}</p>\n            <p>{{ item.zuLand }}</p>\n            <p>{{ item['mindPreis /Km'] }}</p>\n            <p>{{ item['mindPreis /Ladung'] }}</p>\n            <p>{{ item.id }}</p>\n            <button type=\"button\" class=\"btn btn-default btn-sm\" (click)=\"editItem(item)\">\n                <span class=\"glyphicon glyphicon-edit\"></span> Edit\n            </button>\n            <form #newPriceFrom=\"ngForm\" *ngIf=\"selectedItem\" (ngSubmit)=\"onSubmit(newPriceFrom)\">\n                <label for=\"priceKM\">New Price per km:</label>    \n                <input type=\"text\" [(ngModel)]=\"selectedItem.name\" name=\"priceKM\">\n                    <input type=\"submit\" value=\"Save\">\n            </form>\n        </div>\n    </form>\n</body>\n</html>","import { Component } from '@angular/core';\nimport { NgForm } from '@angular/forms';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  data: any[] = [];\n\n  ngOnInit() {\n    let url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis';\n    fetch(url)\n    .then((response) => response.json())\n    .then(json => {\n      // Do something with the data\n      console.log(json.mindestpreis);\n      this.data = json.mindestpreis;\n    });\n  }\n\n  selectedItem: any;\n\n    editItem(item: any) {\n      this.selectedItem = { ...item };\n    }\n\n    onSubmit(form: NgForm) {\n      // Save changes to the selected item\n      console.log(this.selectedItem);\n      // Reset the selected item\n      this.selectedItem = null;\n      let url = 'https://api.sheety.co/45604bc63728735dab6c1b62ccf11028/filterkriterienAnbotsabgabe/mindestpreis';\n      let body = {\n        mindestpreis: {\n          \"org\": form.value.org,\n          \"vonLand\": form.value.vonLand,\n          \"zuLand\": form.value.zuLand,\n          \"form.value.org\": form.value['form.value.org'],\n          \"mindPreis /Ladung\": form.value['mindPreis /Ladung'],\n          \"id\": form.value.id\n        }\n      }\n      //TODO: geht nicht weil der ganze body expected wird also ich muss das ganze schicken nicht nur den neuen valie \n      //-> edit button muss für jede row neuen tag haben? und dynamisch mitgeneriert werden sonst werden alle geändert\n      fetch(url, {\n        method: 'PUT',\n        body: JSON.stringify(body)\n      })\n      .then((response) => response.json())\n      .then(json => {\n        // Do something with object\n        console.log(json.mindespreis);\n      });\n    }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}